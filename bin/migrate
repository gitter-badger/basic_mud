#!/usr/bin/env ruby

git_path = File.join(File.expand_path('../..', __FILE__), '.git')

if File.exists?(git_path)
  lib_path = File.expand_path('../../lib', __FILE__)
  $:.unshift(lib_path)
end
require 'data_mapper'
require 'dm-migrations'
require "classless_mud/version"
require "classless_mud/player.rb"
require "classless_mud/world.rb"
require "classless_mud/game.rb"
require "classless_mud/room.rb"
require "classless_mud/exit.rb"
require "classless_mud/input_parser.rb"
    DataMapper::Logger.new($stdout, :debug)
    db_name = YAML.load_file('conf/settings.yml')['db']['name']
    puts "Using DB:#{db_name}"
    DataMapper.setup :default, "sqlite3://#{Dir.pwd}/#{db_name}"
    DataMapper.finalize
DataMapper.auto_upgrade!

